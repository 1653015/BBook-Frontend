(this["webpackJsonpclient-fronend"]=this["webpackJsonpclient-fronend"]||[]).push([[0],{77:function(e,t,a){e.exports=a(94)},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(73),i=a.n(s),o=(a(82),a(83),a(18)),l=a(19),c=a(22),m=a(21),u=(a(84),a(23)),d=a(32),h=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={cookies:new d.a},n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"header-bbook"},r.a.createElement(u.b,{to:"/",className:"bbook-logo"},"BBOOK"),r.a.createElement("div",{className:"signin-signup-layout"},r.a.createElement(u.b,{to:"/signin"},r.a.createElement("div",{className:"header-item"},"\u0110\u0103ng nh\u1eadp")),r.a.createElement(u.b,{to:"/signup"},r.a.createElement("div",{className:"header-item"},"\u0110\u0103ng k\xed"))))}}]),a}(n.Component),p=a(28),g=a(61),v=a(26),b=(a(90),a(3)),f=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={errorMessage:"",redirect:!1,cookies:new d.a},n.login=n.login.bind(Object(p.a)(n)),n}return Object(l.a)(a,[{key:"login",value:function(e,t){var a=this;fetch("https://cors-anywhere.herokuapp.com/https://bbook-backend.herokuapp.com/user/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login_id:e.email,password:e.password})}).then((function(e){400===e.status?(e.text().then((function(e){return a.setState({errorMessage:e})})),t.setSubmitting(!1)):200===e.status?e.text().then((function(e){a.state.cookies.set("userToken",e),a.setState({redirect:!0})})):(a.setState({errorMessage:"L\u1ed7i kh\xf4ng x\xe1c \u0111\u1ecbnh!!!"}),t.setSubmitting(!1))}))}},{key:"render",value:function(){var e=this;return this.state.redirect||this.state.cookies.get("userToken")?r.a.createElement(b.a,{to:"/home"}):r.a.createElement("div",{className:"SignIn"},r.a.createElement(g.a,{initialValues:{email:"",password:""},onSubmit:function(t,a){e.login(t,a)},validationSchema:v.a({email:v.b().required("Email is empty"),password:v.b().min(8,"To short!!!").max(50,"To long!!!").required("Password is empty")})},(function(t){return r.a.createElement("form",{onSubmit:t.handleSubmit,className:"sign-in-up-form"},r.a.createElement("h1",{style:{textAlign:"center"},className:"font-white"},"\u0110\u0103ng Nh\u1eadp"),r.a.createElement("div",{className:"form-item"},r.a.createElement("div",{className:"form-item-header"},r.a.createElement("div",{style:{textAlign:"center"},className:"font-white"},"Email (T\xean \u0110\u0103ng Nh\u1eadp)"),t.touched.email&&t.errors.email?r.a.createElement("div",{className:"invalid-message"},t.errors.email):null),r.a.createElement("input",{className:"form-input",type:"text",onChange:t.handleChange,value:t.values.email,name:"email",placeholder:"H\xe3y nh\u1eadp email c\u1ee7a b\u1ea1n"})),r.a.createElement("div",{className:"form-item"},r.a.createElement("div",{className:"form-item-header"},r.a.createElement("div",{className:"font-white"},"M\u1eadt Kh\u1ea9u"),t.touched.password&&t.errors.password?r.a.createElement("div",{className:"invalid-message"},t.errors.password):null),r.a.createElement("input",{className:"form-input",type:"password",onChange:t.handleChange,value:t.values.password,name:"password",placeholder:"H\xe3y nh\u1eadp m\u1eadt kh\u1ea9u c\u1ee7a b\u1ea1n"})),r.a.createElement("div",{className:"error-message"},e.state.errorMessage),r.a.createElement("input",{type:"submit",disabled:t.isSubmitting,value:"\u0110\u0103ng Nh\u1eadp"}))})))}}]),a}(n.Component),E=(a(91),function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={errorMessage:"",redirect:!1,cookies:new d.a},n.signup=n.signup.bind(Object(p.a)(n)),n}return Object(l.a)(a,[{key:"signup",value:function(e,t){var a=this;fetch("https://cors-anywhere.herokuapp.com/https://bbook-backend.herokuapp.com/user/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login_id:e.fullname,password:e.password,email:e.email})}).then((function(e){400===e.status?(e.text().then((function(e){return a.setState({errorMessage:e})})),t.setSubmitting(!1)):200===e.status?e.text().then((function(e){a.state.cookies.set("userToken",e),a.setState({redirect:!0})})):(a.setState({errorMessage:"L\u1ed7i kh\xf4ng x\xe1c \u0111\u1ecbnh!!!"}),t.setSubmitting(!1))}))}},{key:"render",value:function(){var e=this;return this.state.redirect||this.state.cookies.get("userToken")?r.a.createElement(b.a,{to:"/home"}):r.a.createElement("div",{className:"SignUp"},r.a.createElement(g.a,{initialValues:{fullname:"",email:"",password:""},onSubmit:function(t,a){e.signup(t,a)},validationSchema:v.a({fullname:v.b().required("Your name is empty"),email:v.b().email("Invalid email address").required("Email is empty"),password:v.b().min(8,"To short!!!").max(50,"To long!!!").required("Password is empty")})},(function(t){return r.a.createElement("form",{onSubmit:t.handleSubmit,className:"sign-in-up-form"},r.a.createElement("h1",{style:{textAlign:"center"},className:"font-white"},"\u0110\u0103ng K\xed"),r.a.createElement("div",{className:"form-item"},r.a.createElement("div",{className:"form-item-header"},r.a.createElement("div",{className:"font-white"},"T\xean \u0110\u0103ng Nh\u1eadp"),t.touched.email&&t.errors.email?r.a.createElement("div",{className:"invalid-message"},t.errors.fullname):null),r.a.createElement("input",{className:"form-input",type:"text",onChange:t.handleChange,value:t.values.fullname,name:"fullname",placeholder:"H\xe3y nh\u1eadp h\u1ecd v\xe0 t\xean"})),r.a.createElement("div",{className:"form-item"},r.a.createElement("div",{className:"form-item-header"},r.a.createElement("div",{className:"font-white"},"Email"),t.touched.email&&t.errors.email?r.a.createElement("div",{className:"invalid-message"},t.errors.email):null),r.a.createElement("input",{className:"form-input",type:"email",onChange:t.handleChange,value:t.values.email,name:"email",placeholder:"H\xe3y nh\u1eadp email c\u1ee7a b\u1ea1n"})),r.a.createElement("div",{className:"form-item"},r.a.createElement("div",{className:"form-item-header"},r.a.createElement("div",{className:"font-white"},"M\u1eadt Kh\u1ea9u"),t.touched.password&&t.errors.password?r.a.createElement("div",{className:"invalid-message"},t.errors.password):null),r.a.createElement("input",{className:"form-input",type:"password",onChange:t.handleChange,value:t.values.password,name:"password",placeholder:"H\xe3y nh\u1eadp m\u1eadt kh\u1ea9u c\u1ee7a b\u1ea1n"})),r.a.createElement("div",{className:"error-message"},e.state.errorMessage),r.a.createElement("input",{type:"submit",disabled:t.isSubmitting,value:"\u0110\u0103ng K\xed"}))})))}}]),a}(n.Component)),k=(a(92),function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{color:"white",textAlign:"center",position:"absolute",top:"68px",width:"100%"}},"THIS IS LANDINGPAGE")}}]),a}(n.Component)),N=(a(93),function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={redirect:!1,cookies:new d.a},n.logout=n.logout.bind(Object(p.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.state.cookies.get("userToken")||this.setState({redirect:!0})}},{key:"logout",value:function(){this.state.cookies.set("userToken",""),this.state.cookies.remove("userToken",{path:"/"}),this.setState({redirect:!0})}},{key:"render",value:function(){return this.state.redirect?r.a.createElement(b.a,{to:"/signin"}):r.a.createElement("div",{style:{color:"white",textAlign:"center",position:"absolute",top:"68px",width:"100%"}},r.a.createElement("button",{type:"button",onClick:this.logout,className:"btn-logout"},"LOG OUT"))}}]),a}(n.Component));var w=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"background-image"}),r.a.createElement("div",{className:"background-content"},r.a.createElement(u.a,{basename:"/BBook-Frontend/#"},r.a.createElement(h,null),r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/signin"},r.a.createElement(f,null)),r.a.createElement(b.b,{path:"/signup"},r.a.createElement(E,null)),r.a.createElement(b.b,{path:"/home"},r.a.createElement(N,null)),r.a.createElement(b.b,{path:"/"},r.a.createElement(k,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[77,1,2]]]);
//# sourceMappingURL=main.ea6fe16f.chunk.js.map